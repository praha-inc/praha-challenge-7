# ℹ️ 各テーブル情報

## 【マスタ】お寿司(osushi)
お寿司の情報を格納するテーブル

## 【マスタ】お寿司カテゴリー(osushi_category)
お寿司のネタの分類を格納するテーブル
- 注文表に、貝類はお持ち帰りできない可能性がある記載があるので、今回はお寿司のネタが貝類かどうかわかるような形にしました

## 【マスタ】セットメニュー(set_menu)
お寿司の情報を格納するテーブル

## 【マスタ】セットメニューカテゴリー(set_menu_category)
セットメニューの分類を格納するテーブル

## 【マスタ】消費税(consumption_tax)
消費税を格納するテーブル

## 【マスタ】価格(price)
価格を格納するテーブル

## 【トランザクション】注文者(orderer)
注文したユーザの情報を格納するテーブル

## 【トランザクション】注文(orders)
注文者の注文内容を格納する
- 注文表にご要望欄があるので、自由記述欄(comments)を設けています
- 税抜価格の合計から消費税を計算するため、ordersに消費税(consumption_tax)を紐づけています

## 【トランザクション】お寿司注文詳細
注文者のお寿司に関する注文の要望を格納する

## 【トランザクション】セットメニュー注文詳細
注文者のお寿司に関する注文の要望を格納する

# 👍 工夫した点
- ユーザIDを連番ではなくランダム文字列をハッシュ化した物を採用した点
- 消費税テーブルと価格テーブルに関して、適用開始日と適用終了日を設けたこと
    - 更新処理は基本適用開始日と適用終了日にのみに行う
    - 改定後の税率、価格はテーブルへの追加処理のみを行う(過去の注文情報には改訂前の税率、価格を残したいため
- 注文詳細をお寿司とセットメニューで分けた点
    - お寿司とセットメニューの売上や個数をそれぞれで算出できるため
    - 仕様追加の際に、お寿司とセットメニューが互いに関心を持たなくて良くなるため
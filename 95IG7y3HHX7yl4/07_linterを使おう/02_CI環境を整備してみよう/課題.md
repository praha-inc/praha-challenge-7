# 課題1（実装）
## 以前「linterを使おう」の課題で、ローカル環境でlintを実行するだけでは、ユーザの実行忘れやlint工程の削除を検知できないため、不十分なことが言及されました。 解決策の1つとしてはCI環境を作成することが挙げられます
### プルリクエストを作成したら自動的にESLintを使ってプロジェクト全体にlintをかけるような仕組みをレポジトリに導入してみましょう

初めてやったけど、すごく簡単でした。
https://github.com/YamazakiYusuke/praha-challenge-56/actions/workflows/npm-lint.yml

# 課題2（実装）
> 次の課題は、「特大課題：プラハチャレンジをDDDで実装してみる」で作成したアプリケーションを題材にします

## DBと通信して実施する統合テストケースを最低1つは書いてください（すべての課題一覧を正しく取得できる、など）
https://github.com/YamazakiYusuke/praha-challenge-ddd/pull/12/commits/7100223ba91081f0e66f68b7c7c29db2d2c6d620

## 新しいプルリクエストが作成されるたびに上記の統合テストケースをGitHub ActionsのCI環境上で実行するようなworkflowを作成してください
https://github.com/YamazakiYusuke/praha-challenge-ddd/blob/master/.github/workflows/integration-test.yml

これをいれると手動実行できてる
```yaml
on:
  workflow_dispatch:
```

## 実際にプルリクエストを作成して、統合テストがCI環境上で実行されることを確認してください
https://github.com/YamazakiYusuke/praha-challenge-ddd/pull/13
ちゃんと走っている👍️

# 課題3（質問）
## プロジェクトが大きくなってくるとビルドに長時間かかるようになります。ビルド時間を短縮するためにできる事がないか調べてみてください
すべて
1. ライブラリーの整理。不要なライブラリーの削除。

CI CD
1. [node_modulesをキャッシングする](https://dev.classmethod.jp/articles/caching-dependencies-in-workflow-execution-on-github-actions/)
2. 並列処理の活用

android
1. [プロジェクトのモジュール化](https://developer.android.com/build/optimize-your-build?hl=ja#create_libraries)
2. [KSPへの以降](https://developer.android.com/build/optimize-your-build?hl=ja#migrate_to_ksp)
3. [Gradleビルドキャッシュを有効にする](https://note.com/techbookfest/n/n1f59e37bad56)


[Next.js製アプリケーションのコンパイルを約100倍高速化した話](https://zenn.dev/mkt/articles/543669021d9a1e)

## GitHub Actionsの ワークフローを実行するには様々な方法があります
### 例えばheadless CMSで管理しているコンテンツが更新されたら、自動的にブログをビルドしてデプロイするワークフローを作りたいとします。どのような方法でワークフローを起動すると良さそうでしょうか？
repository_dispatch APIをしようして、外部からワークフローを実行できる。
[GitHub Actions の repository_dispatch イベントを使ってリポジトリ間でリリースイベントを伝播させる](https://qiita.com/takat0-h0rikosh1/items/d464f4733ff81fda23fc)

## 特定のディレクトリ配下が変更された時のみワークフローが実行されるように設定するには、どのようにymlファイルに記述する必要があるでしょうか？

```yaml
on:
  push:
    paths:
      - 'path/to/directory/**'
  pull_request:
    paths:
      - 'path/to/directory/**'
```

[GitHub Actionsにおけるpathsとpaths-ignoreをベン図で理解する](https://qiita.com/nacam403/items/3e2a5df5e88ba20aa76a)

## 特定のjobが他のjobの完了を待ってから 実行されるように設定するには、どのようにymlファイルに記述する必要があるでしょうか?

`needs: job1`
needsでjob間の依存関係を表現できる。

```yaml
jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Run some task
        run: echo "Running job1"

  job2:
    needs: job1
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Run another task
        run: echo "Running job2 after job1"
```

## 先程の実装課題の中で環境変数を設定しましたが、秘匿性の高い環境変数を直接ymlファイルの中に記述するのはセキュリティー上の問題があります。秘匿性の高い環境変数をymlファイルの中で扱うには、どのようにすれば良いでしょうか？

[GitHub Actions でのシークレットを使用する](https://docs.github.com/ja/actions/security-for-github-actions/security-guides/using-secrets-in-github-actions)
Repositoryの設定からシークレットを設定することで、以下のように記述できる

```yaml
steps:
  - name: Hello world action
    with: # Set the secret as an input
      super_secret: ${{ secrets.SuperSecret }}
    env: # Or as an environment variable
      super_secret: ${{ secrets.SuperSecret }}
```


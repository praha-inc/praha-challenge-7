# 課題1
> CSR、SSR、SSGのそれぞれについて概要・メリット・デメリットを説明してください。

## Client Side Rendering (CSR)
Client Side Rendering（略してCSR）は、JavaScriptを使用してブラウザ上でWebサイトやアプリケーションをレンダリングする手法である。CSRでは、コンテンツの処理とレンダリングはサーバーではなくブラウザで行う。
具体的には、サーバーはJavaScriptファイルへのリンクが含まれた最低限のHTMLファイルを送信し、ブラウザが必要なリソースをダウンロードしてページをレンダリングする。  
[What is Client-side Rendering (CSR)?](https://prismic.io/blog/client-side-rendering)

### 適しているサイト
1. 動的なコンテンツを持つサイト:
  - チャットアプリ
  - ソーシャルメディアプラットフォーム
2. 高度なインタラクティブ性を必要とするアプリケーション:
  - シングルページアプリケーション（SPA）
3. 検索エンジンにインデックスされる必要のない内部アプリケーション:
  - 管理画面
  - ユーザーダッシュボード

### メリット
- **高速な結果表示**: 必要に応じてHTMLが生成される為、ページ全体のリフレッシュやリレンダーが発生せずに、SSRより高速に結果を表示することができる。
- **スケーラビリティの向上**: サーバーの負荷が軽減されるため、スケーラビリティが向上する。
- **効率的な開発プロセス**: フロントエンドとバックエンドの開発が分離されているため、開発プロセスが効率的になる。
- **リアルタイムデータ更新**: リアルタイムでのデータ更新が容易で、WebSocketなどを利用した双方向通信が可能。

### デメリット
- **初期ロードの遅延**: 初期ロードで全てのJavaScriptをロードし、APIからデータを取得するので、時間がかかる。
- **SEOの不利**: SEOで不利。Googleはクローラーは、データを取得する前の状態のページを見てコンテンツが充実していないと判断してしますので。
- **キャッシングの問題**: ブラウザーがページをキャッシングできない。対策として、JavaScriptをキャッシングすることもできるが、ブラウザーのメモリーをより多く専有することになる。

[Pros and Cons of Client-Side Rendering](https://www.pluralsight.com/resources/blog/guides/pros-and-cons-of-client-side-rendering)

## Server Side Rendering (SSR)
Server Side Rendering（略してSSR）は、サーバー側でWebサイトやアプリケーションをレンダリングする手法である。
SSRでは、ユーザーが特定のページURLにアクセスするたびに、サーバーがリクエストを受け取り、APIと連携して必要なデータを取得し、そのデータを基にHTMLを生成する。生成されたHTMLは、ブラウザに返され、表示される。  
[SSR - Server Side Renderingのメリットとアーキテクチャについて調べてみます。](https://qiita.com/Thang_TQ/items/1e1d86bffd2288ce1865)

### 適しているサイト
1. SEOが重要なサイト:
  - ブログ
  - ニュースサイト
2. 初回表示速度が重要なサイト:
  - ランディングページ
  - マーケティングサイト
3. コンテンツが頻繁に変わらないサイト:
  - ドキュメントサイト
  - 企業のコーポレートサイト

### メリット
- **高速なページ遷移**: SSRはHTMLの更新が必要な部分のみを更新するため、ページ遷移が速くなり、FCP（First Contentful Paint）も速くなる。ネットワークの悪い環境でも、安定してロードできる。
- **SEOに有利**: SSRはサーバー側でHTMLを生成するため、検索エンジンのクローラーがコンテンツを正確にインデックスしやすくなる。
- **ユーザーデータの正確な収集**: SSRはレンダリングするサーバー側でユーザーのデータを収集できるので、JavaScriptの無効化などが影響せず、ユーザーメトリックスの迅速で正確な収集が可能。
- **セキュリティリスクの低減**: SSRでは、サーバー側でHTMLを生成してからクライアントに送信するため、クライアント側でのJavaScriptの実行が少なくなる。これにより、XSS（クロスサイトスクリプティング）などの攻撃リスクが低減される。また、サーバー側でデータを処理するため、機密情報がクライアントに露出するリスクも減少する。

### デメリット
- **サーバー負荷の増加**: 大規模なアプリでは、サーバーの負荷が増加し、ロード時間がボトルネックになる可能性がある。
- **経費の増加**: SSRは保守、デバッグ、ホスティングが複雑で高価になり、ランニングコストの増加につながる。
- **JavaScriptの依存**: ページの初期表示は速いが、ユーザーがページとインタラクションするためにはJavaScriptのダウンロードが完了するまで待つ必要がある。
- **キャッシュの難しさ**: SSRでは、各ページのHTMLが異なるため、効率的にキャッシュすることが難しい。その結果、キャッシュされていないページのロード時間が長くなることがある。

[What is Server Side Rendering? Pros and Cons](https://www.linkedin.com/pulse/what-server-side-rendering-pros-cons-digital-marketing-with-kishor-1xnff/)

## Static Site Generating (SSG)
Static Site Generation（略してSSG）は、WebサイトやアプリケーションのHTMLファイルを事前に生成する手法である。従来のCMS（例えばWordPress）は、MySQLなどのデータベースを基にサーバーでHTMLを生成して返すが、SSGではビルド時にGraphQLやAPIからすべてのデータを取得し、全てのHTMLを事前に生成する。生成されたファイルは、Netlifyなどのホスティングサービスを用いてサーバーレスで公開することが一般的である。  
[静的サイトジェネレーター Gatsby](https://qiita.com/umamichi/items/9bd08a21fddc71588efc)

### 適しているサイト
1. コンテンツが頻繁に更新されないサイト:
  - 企業のコーポレートサイト
  - ポートフォリオサイト
2. 高速な初回表示が求められるサイト:
  - ランディングページ
  - マーケティングサイト
3. SEOが重要なサイト:
  - ブログ
  - ニュースサイト
4. セキュリティが重要なサイト:
  - ドキュメントサイト
  - 教育サイト

### メリット
- **パフォーマンス**：すべてのコンテンツが事前にレンダリングされ、静的なHTMLファイルとして提供されるため、読み込みが非常に高速
- **セキュリティ**：静的サイトは、動的なサーバーサイドのコードがないため、SQLインジェクションやクロスサイト・スクリプティングなどの攻撃を受けにくい。
- **費用対効果**：静的サイトのホスティングは、一般的に、サーバー・インフラやデータベースを必要とする動的サイトのホスティングよりもはるかに安価である。 
- **拡張性**：静的サイトは、複雑なサーバー設定を必要とせず、大量のトラフィックを処理できる。
- **シンプルさ**： 静的サイトジェネレーターは、ウェブ開発の複雑さの多くを抽象化するため、開発者はインフラよりもコンテンツ作成に集中することができる。

### デメリット
- **インタラクティブ性の制限**: 静的サイトはデータベース駆動型のサイトに比べてインタラクティブ性や動的な機能が制限される。複雑なインタラクティブ機能を追加するには、追加のツールが必要である。
- **リアルタイム更新が難しい**: コンテンツを更新するには、サイト全体を再構築して再展開する必要があり、大規模なサイトでは時間がかかる。
- **ユーザー生成コンテンツの扱いにくさ**: ユーザー生成コンテンツ（コメントやフォームなど）の受け入れと管理は、静的サイトではより困難である。
- **学習の難しさ**: 開発者は特定の静的サイトジェネレーターとそのエコシステムを学ぶ必要があり、従来のウェブ開発よりも学習曲線が急である。
- **ベンダーロックインのリスク**: 特定の静的サイトジェネレーターを選ぶと、そのツールに依存することになり、将来的に別のプラットフォームに移行するのが難しくなる可能性がある。

[What are the pros and cons of using static site generators?](https://www.quora.com/What-are-the-pros-and-cons-of-using-static-site-generators)

# 課題2
> CSR、SSR、SSGで描画されるページを実装
## 課題2-1
## 課題2-2
### 課題2-2-1（CSR）
> 作ったcsr.tsxにhttps://jsonplaceholder.typicode.com/posts/1というAPIを叩いて取得できるデータを表示してください

https://github.com/YamazakiYusuke/praha-challenge-front-end-rendering/pull/1/commits/a1ccde114c64dc917318d0baf946ab4b5a7c882c

> 作ったcsr.tsxがCSRで描画されていることを確認してください

初期ロードのHTMLは、Loading(固定値)になっている

```html
<main class="flex flex-col gap-8 row-start-2 items-center sm:items-start">
  <p>Loading...</p>
  <img alt="Next.js logo" fetchpriority="high" width="180" height="38" decoding="async" data-nimg="1" class="dark:invert" style="color:transparent" src="https://nextjs.org/icons/next.svg"/>
  // ...省略
```

### 課題2-2-2（SSR）
> このときサーバー側でデータが取得されるようにしてください

https://github.com/YamazakiYusuke/praha-challenge-front-end-rendering/pull/1/commits/616e50100c2c007cde7876d65b3712498336f939

> 作ったssr.tsxがSSRで描画されていることを確認してください

初期ロードのHTMLにデータが入っている
```html
<main class="flex flex-col gap-8 row-start-2 items-center sm:items-start">
    <p>`title: $
    <!-- -->
    sunt aut facere repellat provident occaecati excepturi optio reprehenderit
    <!-- -->
    `</p>
    <img alt="Next.js logo" fetchpriority="high" width="180" height="38" decoding="async" data-nimg="1" class="dark:invert" style="color:transparent" src="https://nextjs.org/icons/next.svg"/>
  // ...省略
```

### 課題2-2-3（SSG）
> ssg.tsxでも同様にAPIからデータを表示してください。このときアプリケーションのビルド時にデータが取得されるようにしてください。

https://github.com/YamazakiYusuke/praha-challenge-front-end-rendering/pull/1/commits/70b8afd965d545dd1a89d307610e85b50cb10aa5

> 作ったssg.tsxがSSGで描画されていることを確認してください
run buildするとssgとして認識されている。React賢い。

```terminal
>  npm run build

> praha-challenge-front-end-rendering@0.1.0 build
> next build

  ▲ Next.js 14.2.11

 ✓ Finalizing page optimization      

Route (pages)                             Size     First Load JS
┌ ○ /                                     1.32 kB        83.2 kB
├   /_app                                 0 B              78 kB
├ ○ /404                                  180 B          78.2 kB
├ ƒ /api/hello                       
     0 B              78 kB
├ ○ /csr                             
     1.54 kB        83.4 kB
├ ● /ssg (363 ms)                    
     1.37 kB        83.3 kB
└ ƒ /ssr                             
     1.37 kB        83.3 kB
+ First Load JS shared by all        
     80.4 kB
  ├ chunks/framework-64ad27b21261a9ce.js  44.8 kB
  ├ chunks/main-9c200fea3985d4e9.js       32.1 kB
  └ other shared chunks (total)           3.46 kB

○  (Static)   prerendered as static content
    `next export` has been removed in favor of 'output: export' in next.config.js.
Learn more: https://nextjs.org/docs/app/building-your-application/deploying/static-exports
```
`.next\server\pages\ssg.html`
を確認するとapiから取得したデータを含んだHTMLが生成されている。


## 課題2-3
> HTMLファイルが生成されているのはどのレンダリングパターンか説明してください
CSRとSSGはHTMLが生成されており、SSRは生成されていない。

> それぞれのレンダリングパターンについてHTMLファイルが生成されている理由（もしくは生成されていない理由）を説明してください

CSRは、固定の雛形になるHTMLににデータを詰めるため、build時にHTMLが生成される。
SSGは、静的なサイトであるから、build時にHTMLを生成して上げる必要がある。
SSRは、リクエストごとにAPIから取得したデータを下に動的にHTMLを作成する必要があるので、build時には生成されない。
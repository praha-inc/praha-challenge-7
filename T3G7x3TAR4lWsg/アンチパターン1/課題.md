# 課題１

### 問題点

- バリデーションが利かない。同じ名称のタグを複数入れてしまえる
- 例えばタグごとに投稿を並べ替えたり、集計したい時にアプリケーション側で不必要に複雑な操作が必要になる

### 懸念される仕様変更

- タグに順番をつけなければいけなくなった。タグを集計した一覧などを出す画面を作ることになった。

- タグに階層構造やセクションとしての意味が必要になりそれを元に投稿を整理することになった

- 投稿タグを元にリレーションを貼りたい内容などが出てきた

# 課題２

> 上記の問題点を解決するよう、スキーマ設計を変更してみてください。

タグを中間テーブルで管理

<img src="./アンチパターン１.png">

# 課題 3

> どんなサービスを開発している時に上記のようなアンチパターンに陥りそうでしょうか？

- 例えば、システム移行する前はお客さんがデータをエクセルなどで管理しており、そのためセル内にカンマで区切られた正規化されてないデータが存在していた。移行するデータの数が多く、かつその時点では大してビジネス的に影響がないためそのままセルのデータ構造を移した。

- 例えば、外部の出来合いのシステムを使っており、入力欄が一行しかないが、クライアントの業務には帳票の出力の都合で、複数のタグ区切って出す方が都合がよくて、現場の人が無理やり「,」カンマを付けることで賄っていた。

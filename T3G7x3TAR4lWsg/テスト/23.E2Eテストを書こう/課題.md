
# 課題1
> マスを選択する際、Squareコンポーネントに「data-e2e」などのカスタム属性を追加する必要があるかもしれません。なぜこのようなカスタム属性を追加する必要があるのでしょうか？
公式でもDOM属性に依存しない取得を推奨している。
既存の属性を使うとUIの変更に対して弱いため、テスト自体とUIの都合とを切り分けるためにdata-cyなどのカスタム属性を利用する。

参考：
- [公式ドキュメント Best Practices](https://docs.cypress.io/guides/references/best-practices)


> この過程で「Presentational」と「Container」コンポーネントの考え方が生まれてきます。興味があれば上記の分け方について調べてみてください

コンポーネントをUIとしての関心事と、ロジックとしての関心事を分離して作成管理する方法。
PresentationalはUIの表現に注力し、Containerが外部からデータを受け取り状態を持ちロジックを書く。
コンポーネント再利用性の向上、変更の容易性、UIが外部データに依存しなくなる、などのメリットがある。またStoryBookなどを使ってコンポーネントのUIをテストする際にもUIとロジックが分離しているためにテストを構築しやすい。

参考:
- [Container/Presentationalパターン再入門](https://zenn.dev/buyselltech/articles/9460c75b7cd8d1)



> 調べていくと、ある技術の登場によりpresentational/containerの分け方が陳腐化しつつあると書かれている記事にたどり着くかもしれませんが、それに対してどう思いますか？

Reactが関数コンポーネントを採用し、Hooksが広まったことでcontainerの存在価値が薄まった。
しかし考えるに、Hooksはより汎用的なロジックを扱うべきでコンポーネント個別に作ると管理しにくいし、逆にコンポーネントごとのContainerだけでロジックを管理しようとすると、共有したいロジックが現れた時にPresentationalとの依存が複雑になるように思う。
なのでアプリケーションに汎用的なロジックはHooksで、UIコンポーネント単体の局所的なロジックはcontainerで、などと使い分けたらよいのではないかと思う。

# 課題２
> E2Eテストのメリットとデメリットを挙げてください

## メリット
- ユーザーと同じ視点でテストすることができる

ユーザーの動きや視点をエミュレーションしてテストすることができるため、実際に動かした時の品質を担保することができる。また使い勝手やユーザビリティなども検証することが出来る。

- 環境固有の問題もテストすることができる

実際のアプリケーションをブラウザで動かすため開発時には再現できない環境も検証することができる。
例えばブラウザの互換性やデバイス、サーバー環境など実環境に近いものを用意し検証することが可能。

## デメリット
- テストが遅くなりがち

ヘッドレスブラウザを起動して実際に動かすために、テストが重たくなる。
また後述のようにカバレッジをあげようとするとテストが多岐にわたってしまうため、必然的に時間のかかるテストとなってしまう。

- テストが複雑で設計が難しい

想定したシナリオを検証するものなので、テスト要件が複雑かつ膨大になりやすい。そのため設計が難しい。
またコード自体からはテスト自体が何をしているか不明な為、テストコードが読みにくくなりがち。


参考:
- [E2Eテストとは？メリット・デメリットと実施方法を解説](https://atgo.rgsis.com/column/e2e-test/#:~:text=2%2D2.%20E2E%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88&text=%E4%B8%BB%E3%81%AA%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%81%AF%E3%80%81%E3%80%8C%E3%83%86%E3%82%B9%E3%83%88,%E9%9B%A3%E3%81%97%E3%81%84%E3%80%8D%E3%81%AE2%E7%82%B9%E3%81%A7%E3%81%99%E3%80%82&text=E2E%E3%83%86%E3%82%B9%E3%83%88%E3%81%A7%E3%81%AF%E3%80%81%E9%81%A9%E5%88%87%E3%81%AA,%E5%B7%A5%E6%95%B0%E3%82%82%E5%A2%97%E3%81%88%E3%82%8B%E3%81%A7%E3%81%97%E3%82%87%E3%81%86%E3%80%82)
- [【E2Eテスト実践ガイド】E2Eテストの実施方法からおすすめツール、現場での実践ポイントまで詳しく解説](https://www.praha-inc.com/lab/posts/e2e-testing) ← prahaの記事。おススメ

> どのように要素を指定すればテストが壊れにくくなるでしょうか？

上述の通り、E2Eテストはテストコードから何をやっているか想像できにくいし、また不用意にHTMLのセレクタを使うとUIの変更に対して脆弱になってしまうため、E2Eテストとしてその要素にどのような役割があるか、を説明した意味のあるコードを記述する方がよい。

例えばcy.get('button[class="btn ok"]')などではなくcy.get('[data-cy="user-confirm"]')など。

参考：
- [E2Eをやったことがない初心者のために簡単にテストシナリオを交えながら少し説明してみた（Cypressを使います）](https://zenn.dev/ojin/articles/a72cdb9eeff4e8)
- [公式ドキュメント Best Practices](https://docs.cypress.io/guides/references/best-practices)

# 課題4

## 問.E2Eテストと結合テストの違いは何でしょうか

結合テストは、アプリケーションの特定のレイヤーやコンポーネントを組み合わせてテストし、これらのインターフェースから生じる問題を検出するテスト手法で、すべてを結合させる必要は無い。

対照的に、E2Eテストでは原則として、すべてのレイヤーやコンポーネントを一体化させてテストを実施する。
これには、データベースなどの永続化層や、外部のサービス（例えば、Auth0やFirebaseAuthenticationなどの認証サービス）も含まれ、できるだけ本番環境に近い状態で実行されることが一般的。

ただし、E2Eテストは考え方によっては、結合テストの一変種として捉えることもでき、実際にテストツールの中ではE2Eテストのことを「IntegrationTest」と呼ぶこともある。

参考：
https://www.praha-inc.com/lab/posts/e2e-testing


## 問. E2Eテストで実際の動きを検証する以外の意外な使い方を1つ挙げてください。

1. ユーザビリティテスト：E2Eテストツールを使用して、ユーザビリティの観点からシステムを評価することができます。具体的には、ユーザがシステムを通じてタスクを完了するための手順や時間を計測し、その結果を基にシステムの使いやすさを評価します1。

2. パフォーマンステスト：E2Eテストツールを使用して、システムのパフォーマンスを評価することも可能です。具体的には、システムが高負荷状態（多数のユーザが同時にアクセスするなど）でも正しく動作するかどうかを確認します1。

3. 非エンジニアによる品質保証：E2Eテストツールは直感的なGUIで操作できるため、非エンジニアでも簡単に利用できます。そのため、非エンジニアによる品質保証の一部として利用することで、品質保証自体の工数削減を狙うことが可能です2。

## 問.E2Eテストとは「エンドツーエンド」の略ですが、ここでいう「エンド」とは何のこと？

E2EとはEnd-to-Endの略で「端から端まで」という意味。
つまり、E2Eテストとはシステムやプロセス全体を通しての検査やテストを指す。

参考：
https://indivisys.jp/e2e-regression-test


# 課題1/課題2

課題1~3で作成したERDは以下<br>
[ERD:コード](./erd.pu)
[ERD:プレビュー](./out/erd/test.png)

## 工夫した点
- メニューの中でも、セットメニュー・寿司単品メニューがありデータモデリングが異なるので、親テーブルにメニューマスタ、子テーブルにセットメニューと寿司マスタに分けました。

- 近年は税率や価格がよく変わるので、変更しやすいようにテーブルとして切り出しました。

- シャリ量区分やメニューカテゴリー区分等、区分値はそれぞれ1テーブル作成しました。汎用区分マスタを作って、1テーブルにまとめる手法もありますが、データが増えるにつれ意図しない使われ方をされることもあるので、汎用区分マスタは不採用
  - [参考資料:データベース設計のアンチパターン、その対処法](https://products.sint.co.jp/topsic/blog/database-design-anti-pattern)

## 悩んだこと/気になっていること
- 他の人がメニュー情報を、どのようにテーブルに落とし込んでいるか。
- (少し脱線ですが)シャリ大にする人っていますかね。。小にするか並にするかの2択な気がします。。


# 課題3

- 今後発生しそうな追加仕様
  - メニューが廃止された場合
- 追加仕様をトリオと交換
  - kzkさんの追加仕様
    - (1) 全体価格が10/20/30％オフになるクーポンが発行される
      - クーポンマスタで対応予定です。 
    - (2) 特定商品が安くなるキャンペーンが開催される
      - 特定商品が安くなった場合は、価格マスタに行を追加して対応できる想定
  
  -  digarashさんの追加仕様 
    - ランチ実施
    ├・平日11:00-14:00はランチ実施（注文した時間）
    ├・「にぎり」「丼」のメニューが税別の価格から10%オフ
    ├・今後セット区分としての「ランチ」とその中の商品が追加される可能性がある
    ├・今後ランチのみ提供のメニューが追加される可能性がある
    →わかりにくくてすみません。
    ランチのみ提供の商品は全てセット区分「ランチ」に含めましょう！
    考えてみたのですが、ランチのみ提供の商品を他の区分と一緒にするとどれがランチ対象かが分かりにくいメニューになりますし、「セット」などの高額の商品やお好みなどの安価な商品はランチ対象にしなくて良いと思いますので。
      - ランチメニューマスタを使い、ランチで扱う商品を管理する方針で考えています。 
      - 上記でおっしゃる通り、ランチで全商品を扱うとは考えられないので、ランチメニューマスタで別出ししました。

     - 電話注文だけでなく、アプリからの注文も対応
     ├・可能なのは注文のみで、配達などはなし、取りに来てもらう想定
     ├・アプリ利用の場合、支払いは注文時に必ず済ませるものとする（支払いは外部サービスを使う1択として支払い手段は考慮しない） 
      - 注文トランに、注文方法区分を追加し、配達OR電話の注文なのかを区別できるようにしました。 

# 課題4

TODO : トリオセッションもしくはPRレビューでERD修正後、対応します。
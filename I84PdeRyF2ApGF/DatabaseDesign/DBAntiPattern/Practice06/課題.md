# データベース設計のアンチパターンを学ぶ6

## 課題１
- 管理したいstatusを増やす必要があった場合に、CHECK制約を再定義しなければならない。
- statusで管理したい項目を変更したい場合…
  - CHECK制約を削除
  - 変更対象の項目値を持つレコードの値を新しいものに更新する
  - CHECK制約を再定義する
  
  というステップを踏む必要がある...。  
  この処理の間に不具合が起きる可能性がある。

## 課題２
[ER図](./ER%E5%9B%B3.md)

- statusをテーブルとして切り出し、status_idに外部キー制約を設定することに格納されうる値を制御する。

## 課題３
- 書籍情報の管理システム
  - 書籍を分類するカラムとしてcategoryカラムを設けた。
  - 格納できる値を、「manga」「novel」「magazine」...とCHECK制約を用いて管理するようにした。


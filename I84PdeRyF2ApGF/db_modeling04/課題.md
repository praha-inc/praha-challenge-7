# 課題１
## リマインダーアプリのDB設計
- ユーザー
  - Slackに登録している他のユーザーに対してリマインダーを設定
  - 自分が設定したリマインダー一覧を確認できる
  - 自分に対して設定されているタスクを一覧で確認できる
- リマインダー
  - 1時間ごとにバッチが動き、配信が必要なリマインダーを指定したSlackユーザーに通知が届く
  - 送信相手（一つのリマインダーに対して複数人設定可）
  - 文面
  - 誰が作成したリマインダーか？

## ER図作成
### テーブル概要
- users（ユーザー）
  - ユーザーとして最低限の情報を格納
- reminders（リマインダー）
  - リマインダーの周期に関しては以下のように管理
  - frequency_pattern
    - 頻度をパターン分けして管理する。現在の仕様だと...
      - 'days' : ◯日おき、毎日
      - 'weekday' : 毎週◯曜日
      - 'month' : 毎月◯日
  - nortification_day_interval
    - 通知する日にち間隔を保持する
    - CHECK制約によってfrequency_patternが'days'である時に設定できるように制限する
  - nortification_weekday
    - 通知する曜日間隔を保持する
    - CHECK制約によってfrequency_patternが'weekday'である時に設定できるように制限する
  - nortification_date
    - 通知する日付を保持する
    - CHECK制約によってfrequency_patternが'month'である時に設定できるように制限する
  - nortification_time
    - 通知する時間を保持する
    - 現在の仕様だと、どの通知頻度のパターンを選択した場合でも設定する必要がある
  - last_sent_at
    - 前回通知を送信した日時を保持する
    - この日付を元にして次いつ通知を送信するかを判断する
  - 通知のパターンよって通知間隔が格納されるカラムを分けた意図としては、通知間隔が日・曜日・月で設定する値に対する
  　意味合いが異なってくるため。一つのカラムに入る値は明確に分かれていた方がパッと見分かりやすいかと…。
  　また、どのカラムにどんな値をINSERTするかが明示的になるのはアプリ実装側も恩恵があるかと思った。
- user_reminder
  - ユーザーとリマインダーの関係性が多対多であると考えられるため、中間テーブルを採用。
  - 一人に複数のリマインダー / 一つのリマインダーに複数のユーザー　を表現
  - statusカラムでは未完了(NotYet)、完了(Done)を管理。
